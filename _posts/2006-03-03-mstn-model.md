---
layout: post
title:  "MicroStation基础之模型（Model）"
date: 2006-03-03
categories: MicroStation
tags: MicroStation 模型
excerpt: MicroStation中的模型类型等基本知识。此处的模型是类似于AutoCAD中的绘图空间和图纸空间概念，不是指图形中的三维元素对象。
author: QinDong
---
* content
{:toc}

此处的模型是指类似于AutoCAD中的绘图空间和图纸空间概念，不是指图形中的三维元素对象。

### 模型的类别和用途

DGN中的模型有三种类型：
- 设计(Design)
- 绘图(Drawing)
- 图纸(Sheet)

一般来说，我们在设计模型中创建三维实体（可能是多个三维模型参考后组成总装模型）。将三维模型通过动态视图切图到绘图模型中，在绘图模型中进行标注。最后再以不同的出图比例将绘图模型参考到图纸模型中。这样的一个应用图示如下：

![](/img/2022/2022-09-11-16-23-53.png)

还有简单的应用模式就是只用设计模型和图纸模型的。对于纯二维图纸，还有用户直接用设计模型绘制而后出图的。

### 模型的锁定与解锁
MicroStation中提供有键入命令Model Lock用来锁定当前模型，被锁定的模型无法编辑修改。该命令为隐藏命令，但键入后可以正确执行。解锁命令为Model Unlock，用于对当前加锁的模型解锁。这两个命令后面还可以跟模型名用来对非当前模型进行加解锁。如：Model Lock "My Created Model"或Model Unlock “My Created Model”。当然，如果模型名中不含有空格的话，可以在键入命令中去掉模型名两端的双引号。

除了可以对模型加解锁以外，还可以对层进行加解锁。被锁定层上的元素不可编辑，但可以复制（居然可以在加锁的层上添加元素，这一点需要注意。但一旦添加了元素，该元素就不能编辑了）。层的加解锁可通过界面方便完成。如下图所示，在层管理器中打开层的Lock列（右击列头勾选Lock可实现），用鼠标在某层的该列处点击即可实现层锁的加和解功能。

![](/img/2022/2022-09-11-16-24-43.png)

更低级别的加解锁是元素加解锁。同理，被加锁的元素不可编辑。可在元素信息对话框中对元素加解锁，如下图所示。当然，只有该元素未在加锁模型中且未在加锁层上时才能对元素加锁或解锁，否则，Locked选项为灰色，不可编辑。

![](/img/2022/2022-09-11-16-24-50.png)

如果一个DGN文件本身是只读的（可通过Windows系统来设置和查看文件只读属性），则打开后所有内容都是只读的。还有就是如果DGN文件为可读写，但我们在用MicroStation打开时勾选了Open  as Read-Only选项则整个文件也会是只读的。

所以，如果发现一个元素无法删除或移动，可以从其被加锁的方面来分析：①含该元素的DGN文件设置了只读属性吗？②打开该DGN文件时勾选了Open as Read-Only吗？③元素所在的模型加锁了吗？④元素所在的层加锁了吗？⑤元素本身加锁了吗？

当然，创建于TriForma平台的元素（如ABD中创建的元素）在MicroStation中也是不可编辑的，这是通过元素依赖技术来实现的，与以上五个原因无关。可在ABD中通过TFREMOVE命令先删除TriForma属性后再回到MicroStation中就能编辑了。其中的TF就是TriForma的缩写。Tri有“三”的意思，Forma有“体”的意思，合起来就是三维体的意思。
